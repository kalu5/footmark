# 计算器网络

## Http

### get和post的区别

1. POST请求相对安全，GET请求相对不安全
2. GET请求可以缓存，POST请求不能缓存
3. GET请求有长度限制，POST请求没有长度限制
4. GET只能传输字符串，POST可以传输多种类型数据
5. GET请求入参在URL上，POST请求入参在Request body上
6. POST有可能产生两个数据包，GET只会发送一个数据包
7. 刷新和回退的时候GET请求无害，POST数据会被重新提交

### http每个版本的区别

http0.9

1. 仅支持get请求
2. 仅能请求访问html格式的资源

http1.0

1. 增加post和head请求方式
2. 支持多种数据格式的请求与访问
3. 支持cache缓存功能
4. 新增状态码、多字符集支持、内容编码等
早期的http1.0不支持长链接支持串行链接
后期的http1.0支持长链接（Connection:keep-alive）


http1.1

1. 增加持久链接（默认开启Connection:keep-alive）
2. 增加管道机制（支持多个请求同时发送）
3. 增加put/patch/options/delete等请求方式
4. 增加Host
5. 增加100状态码（Continue）,支持只发送头信息
6. 增加身份认证机制
7. 支持传送内容的一部分和文件断点续传
8. 新增24个错误状态码

http2.0

1. 增加双工模式（客户端同时发送多个请求，服务端同时处理多个请求）
2. 服务器推送（服务器会把客户端需要的资源一起推送给客户端，合适加载静态资源）
3. 头信息压缩
而之所以叫2.0，是在于新增的二进制分帧层。在二进制分帧层上， HTTP 2.0 会将所有传输的信息分割为更小的消息和帧，并对它们采用二进制格式的编码 ，其中HTTP1.x的首部信息会被封装到Headers帧，而我们的request body则封装到Data帧里面。

HTTP 2.0 通信都在一个连接上完成，这个连接可以承载任意数量的双向数据流。相应地，每个数据流以消息的形式发送，而消息由一或多个帧组成，这些帧可以乱序发送，然后再根据每个帧首部的流标识符重新组装。

二进制协议：头信息和数据体使用二进制进行传输
多工：先发送已经处理好的部分，再响应其他请求，最后再解决没有处理的部分

### 缓存

控制强制缓存的字段分别是:
Expires(不用)
Cache-Control: max-age=xxx

控制协商缓存的字段分别有：
 
Last-Modified / If-Modified-Since 
Etag / If-None-Match（优先级高）


Last-Modified：服务器响应请求时，返回该资源文件在服务器最后被修改的时间
If-Modified-Since：
是客户端再次发起该请求时，携带上次请求返回的Last-Modified值，通过此字段值告诉服务器该资源上次请求返回的最后被修改时间。服务器收到该请求，发现请求头含有If-Modified-Since字段，则会根据If-Modified-Since的字段值与该资源在服务器的最后被修改时间做对比，若服务器的资源最后被修改时间大于If-Modified-Since的字段值，则重新返回资源，状态码为200；否则则返回304，代表资源无更新，可继续使用缓存文件


Etag：是服务器响应请求时，返回当前资源文件的一个唯一标识(由服务器生成)
If-None-Match：
是客户端再次发起该请求时，携带上次请求返回的唯一标识Etag值，通过此字段值告诉服务器该资源上次请求返回的唯一标识值。服务器收到该请求后，发现该请求头中含有If-None-Match，则会根据If-None-Match的字段值与该资源在服务器的Etag值做对比，一致则返回304，代表资源无更新，继续使用缓存文件；不一致则重新返回资源文件，状态码为200